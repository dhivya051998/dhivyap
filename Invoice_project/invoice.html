<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="invoiceStyle.css">
    <link rel="stylesheet"
        href="https://fonts.sandbox.google.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,100,0,0" />
    <title>Document</title>
</head>

<body>
    <div class="invoiceContainer">
        <div class="invoice">
            <h3>Available Budget in May 2022</h3>
            <div class="budget_value"></div>
            <div class="budget_text" id="income">
                <div>INCOME</div>
                <div class="budget_income"></div>
            </div>
            <div class="budget_text" id="expense">
                <div>EXPENSES</div>
                <div class="budget_expense"></div>
            </div>
            <div class="bottom">
                <select class="add_type">
                    <option value="">Select</option>
                    <option value="+" class="addition">+</option>
                    <option value="-" class="subtract">-</option>
                </select>
                <input type="text" class="add_description" placeholder="Add Description">
                <input type="number" class="add_value" placeholder="value">
                <span class="material-symbols-outlined" onclick="display()">
                    check_circle
                </span>
            </div>
        </div>
        <div class="footer_container">
            <div class="income">
                <p class="text1 model">INCOME</p>
            </div>
            <div class="expense">
                <P class="text2 model">EXPENSE</P>
            </div>
        </div>
    </div>
    <script>
        function createEle(incomeDiv, add, value1,isAdd) {
            var create = document.createElement("div");
            create.className = "createDiv";
            var des = document.createElement("div");
            des.className = "desDiv";
            des.innerText = add;
            create.appendChild(des);
            var val = document.createElement("div");
            val.className = "desDiv text1";
            val.innerText = value1;
            create.appendChild(val);
            var icon = document.createElement("div");
            icon.className = "iconImage";
            icon.addEventListener("click",isAdd ? addFun : lessFun);
            create.appendChild(icon);
            incomeDiv.appendChild(create);
        }
        function addFun(e) {
            console.log(e);
            var value1 = document.querySelector(".add_value").value;
            e.target.parentElement.remove();
            document.querySelector(".budget_income").innerText = Math.round(Number(document.querySelector(".budget_income").innerText) - Number(e.target.parentElement.childNodes[1].innerText));
            document.querySelector(".budget_value").innerText = document.querySelector(".budget_income").innerText-document.querySelector(".budget_expense").innerText;
        }
        function lessFun(e) {
            var value1 = document.querySelector(".add_value").value;
            e.target.parentElement.remove();
            document.querySelector(".budget_expense").innerText = Math.round(Number(document.querySelector(".budget_expense").innerText) - Number(e.target.parentElement.childNodes[1].innerText));
            document.querySelector(".budget_value").innerText = document.querySelector(".budget_income").innerText - document.querySelector(".budget_expense").innerText;
        }
        function display() {
            var add = document.querySelector(".add_description").value;
            var value1 = document.querySelector(".add_value").value;
            if (add == "" && value1 == "") {

            }
            else if ((document.querySelector(".add_type").options[1].selected == true) || (document.querySelector(".add_type").options[0].selected == true)) {
                var incomeDiv = document.querySelector(".income");
                createEle(incomeDiv, add, value1,true); 
                document.querySelector(".add_description").value = "";
                document.querySelector(".add_value").value = "";
                document.querySelector(".budget_income").innerText = Math.round(Number(document.querySelector(".budget_income").innerText) + Number(value1));
                document.querySelector(".budget_value").innerText = document.querySelector(".budget_income").innerText;
            }
            else if (document.querySelector(".add_type").options[2].selected == true) {
                var expenseDiv = document.querySelector(".expense");
                createEle(expenseDiv, add, value1,false);
                document.querySelector(".add_description").value = "";
                document.querySelector(".add_value").value = "";
                document.querySelector(".budget_expense").innerText = Math.round(Number(document.querySelector(".budget_expense").innerText) + Number(value1));
                document.querySelector(".budget_value").innerText = document.querySelector(".budget_income").innerText - document.querySelector(".budget_expense").innerText;

            }

        }

    </script>
</body>

</html>
